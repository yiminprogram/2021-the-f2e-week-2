{"version":3,"sources":["assets/logo/logo-light.svg","components/Header.tsx","utils/getQueryString.ts","utils/getBikeStation.ts","utils/getAuthorizationHeader.ts","components/NavTab.tsx","views/Sidebar.tsx","assets/image/404.svg","views/ErrorPage.tsx","components/StationCard.tsx","views/Station.tsx","views/Bike.tsx","views/Attractions.tsx","components/UserMark.tsx","components/BikeMark.tsx","components/ClusterMark.tsx","components/PopCard.tsx","components/Map.tsx","utils/getUserPosition.ts","App.tsx","style/global.tsx","style/theme.ts","index.tsx"],"names":["HeaderBar","styled","theme","palette","primary","main","Logo","Header","src","logoLight","alt","getQueryString","obj","stringify","getUrl","curLat","curLng","STATION_URL","INFO_URL","getAuthorizationHeader","GMTString","Date","toUTCString","HASH","HmacSHA1","process","HMAC","Base64","Authorization","NavTab","useState","value","setValue","Tabs","variant","TabIndicatorProps","style","height","onChange","event","newValue","Tab","icon","faBicycle","label","faRoute","faUmbrellaBeach","SidebarIcon","title","onClick","Tooltip","placement","Fab","color","sx","fontSize","xs","md","width","Sidebar","hide","setHide","handleHide","navigation","useNavigate","query","setQuery","Stack","direction","spacing","position","top","left","p","transition","zIndex","Paper","elevation","component","display","alignItems","onSubmit","e","preventDefault","search","lat","lng","state","InputBase","placeholder","flex","px","target","IconButton","type","faSearch","bgcolor","flexGrow","overflow","List","right","faExchangeAlt","faCrosshairs","ImageContainer","ErrorPage","Box","justifyContent","flexFlow","PageNotFound","StationCard","ListItem","Card","boxShadow","CardActionArea","CardContent","py","Typography","mb","backgroundColor","textAlign","borderRadius","fixedWidth","faParking","borderColor","border","faCheckCircle","Divider","Station","Array","map","ele","idx","Bike","Attraction","UserMark","viewBox","fill","xmlns","opacity","cx","cy","r","filter","stroke","strokeWidth","id","x","y","filterUnits","colorInterpolationFilters","floodOpacity","result","in","values","dx","dy","stdDeviation","in2","operator","mode","BikeMark","quantity","rx","ry","d","transform","fontWeight","Circle","ClusterMark","count","Container","div","Title","h4","Item","Time","time","ItemText","span","PopCard","name","rentBike","returnBike","faClock","UserIcon","L","divIcon","className","iconSize","iconAnchor","html","renderToString","Map","mapRef","useRef","bikeMarkRef","useEffect","zoomControl","tileLayer","attribution","addTo","setZoom","Promise","res","rej","navigator","geolocation","getCurrentPosition","then","setView","coords","latitude","longitude","marker","markers","markerClusterGroup","iconCreateFunction","cluster","getChildCount","axios","all","get","headers","spread","station","info","console","log","data","StationName","Zh_tw","StationPosition","PositionLat","PositionLon","find","ele2","StationID","AvailableRentBikes","AvailableReturnBikes","UpdateTime","toLocaleTimeString","forEach","addLayer","popupAnchor","bindPopup","current","catch","timer","getMapCenter","setTimeout","getCenter","on","clearTimeout","lg","Page","App","path","element","global","css","light","dark","createTheme","warning","error","secondary","typography","fontFamily","h1","h2","h3","h5","body1","button","caption","components","MuiButton","styleOverrides","ReactDOM","render","StrictMode","ThemeProvider","styles","document","getElementById"],"mappings":"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","file":"static/js/main.e8d92cb3.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo-light.0c6a71ad.svg\";","import { styled } from '@mui/material';\nimport logoLight from '../assets/logo/logo-light.svg';\n\nconst HeaderBar = styled('header')`\n  height: 76px;\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: center;\n  align-items: center;\n  background-color: ${({ theme }) => theme.palette.primary.main};\n`;\n\nconst Logo = styled('div')`\n  > img {\n    height: 100%;\n    object-fit: contain;\n  }\n`;\n\nconst Header = () => {\n  return (\n    <HeaderBar>\n      <Logo>\n        <img src={logoLight} alt=\"logo\" />\n      </Logo>\n    </HeaderBar>\n  );\n};\n\nexport default Header;\n","import { stringify } from 'querystring';\n\nexport const getQueryString = (obj: any): string => {\n  return stringify(obj);\n};\n","import axios from 'axios';\nimport { getAuthorizationHeader } from '../utils';\n\ntype TBikeData = {\n  name: string;\n  lat: number;\n  lng: number;\n  rentBike: number;\n  returnBike: number;\n  time: string;\n};\n\ntype TRemoteStation = {\n  StationID: string;\n  StationName: {\n    Zh_tw: string;\n    En: string;\n  };\n  UpdateTime: string;\n  StationPosition: {\n    PositionLon: number;\n    PositionLat: number;\n  };\n};\n\ntype TRmoteStateInfo = {\n  StationID: string;\n  AvailableRentBikes: number;\n  AvailableReturnBikes: number;\n};\n\nconst getUrl = (curLat: number, curLng: number) => {\n  return {\n    STATION_URL: `https://ptx.transportdata.tw/MOTC/v2/Bike/Station/NearBy?$spatialFilter=nearby(${curLat}%2C%20${curLng}%2C%201000)&$format=JSON`,\n    INFO_URL: `https://ptx.transportdata.tw/MOTC/v2/Bike/Availability/NearBy?$spatialFilter=nearby(${curLat}%2C%20${curLng}%2C%201000)&$format=JSON`,\n  };\n};\n\nexport const getBikeStation = (\n  curLat: number,\n  curLng: number,\n): Promise<TBikeData[]> => {\n  return axios\n    .all([\n      axios.get(getUrl(curLat, curLng).STATION_URL, {\n        headers: getAuthorizationHeader(),\n      }),\n      axios.get(getUrl(curLat, curLng).INFO_URL, {\n        headers: getAuthorizationHeader(),\n      }),\n    ])\n    .then(\n      axios.spread((station, info) => {\n        console.log(station);\n        console.log(info);\n        return station.data.map((ele: TRemoteStation) => ({\n          name: ele.StationName.Zh_tw,\n          lat: ele.StationPosition.PositionLat,\n          lng: ele.StationPosition.PositionLon,\n          rentBike: info.data.find(\n            (ele2: TRmoteStateInfo) => ele2.StationID === ele.StationID,\n          ).AvailableRentBikes,\n          returnBike: info.data.find(\n            (ele2: TRmoteStateInfo) => ele2.StationID === ele.StationID,\n          ).AvailableReturnBikes,\n          time: new Date(ele.UpdateTime).toLocaleTimeString(),\n        }));\n      }),\n    );\n};\n","import { HmacSHA1 } from 'crypto-js';\nimport Base64 from 'crypto-js/enc-base64';\n\nexport const getAuthorizationHeader = () => {\n  const APP_ID = process.env.REACT_APP_APP_ID;\n  const APP_KEY = process.env.REACT_APP_APP_KEY!;\n\n  const GMTString = new Date().toUTCString();\n\n  const HASH = HmacSHA1(`x-date: ${GMTString}`, APP_KEY);\n\n  const HMAC = Base64.stringify(HASH);\n\n  const Authorization = `hmac username=\"${APP_ID}\", algorithm=\"hmac-sha1\", headers=\"x-date\", signature=\"${HMAC}\"`;\n\n  return { Authorization, 'X-Date': GMTString };\n};\n","import { useState } from 'react';\nimport { Tabs, Tab } from '@mui/material';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faBicycle,\n  faRoute,\n  faUmbrellaBeach,\n} from '@fortawesome/free-solid-svg-icons';\n\nconst NavTab = () => {\n  const [value, setValue] = useState('station');\n\n  const handleChange = (event: React.SyntheticEvent, newValue: string) => {\n    setValue(newValue);\n  };\n\n  return (\n    <Tabs\n      value={value}\n      variant=\"fullWidth\"\n      TabIndicatorProps={{ style: { height: '3px' } }}\n      onChange={handleChange}\n    >\n      <Tab\n        icon={<FontAwesomeIcon icon={faBicycle} />}\n        label=\"自行車租借站\"\n        value=\"station\"\n      />\n      <Tab\n        icon={<FontAwesomeIcon icon={faRoute} />}\n        label=\"自行車路線\"\n        value=\"bike\"\n      />\n      <Tab\n        icon={<FontAwesomeIcon icon={faUmbrellaBeach} />}\n        label=\"景點\"\n        value=\"attraction\"\n      />\n    </Tabs>\n  );\n};\n\nexport default NavTab;\n","import { useState, FormEvent } from 'react';\nimport { Outlet, useNavigate } from 'react-router-dom';\nimport {\n  Paper,\n  Stack,\n  InputBase,\n  IconButton,\n  List,\n  Tooltip,\n  Fab,\n} from '@mui/material';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faSearch,\n  faCrosshairs,\n  faExchangeAlt,\n} from '@fortawesome/free-solid-svg-icons';\nimport { IconProp } from '@fortawesome/fontawesome-svg-core';\nimport { getQueryString } from '../utils';\nimport NavTab from '../components/NavTab';\n\ntype TProps = {\n  icon: IconProp;\n  title: string;\n  onClick?: () => void;\n};\n\nconst SidebarIcon = ({ icon, title, onClick }: TProps) => {\n  return (\n    <Tooltip title={title} placement=\"right\">\n      <Fab\n        onClick={onClick}\n        color=\"primary\"\n        sx={{\n          fontSize: { xs: '1rem', md: '1.3rem' },\n          width: { xs: '40px', md: '50px' },\n          height: { xs: '40px', md: '50px' },\n        }}\n      >\n        <FontAwesomeIcon icon={icon} />\n      </Fab>\n    </Tooltip>\n  );\n};\n\nconst Sidebar = () => {\n  // control sidebar\n  const [hide, setHide] = useState(false);\n  const handleHide = () => {\n    setHide(!hide);\n  };\n\n  // control form submit\n  const navigation = useNavigate();\n  const [query, setQuery] = useState<string>('');\n  const handleSubmit = (e: FormEvent) => {\n    e.preventDefault();\n    navigation(\n      {\n        search: getQueryString({\n          lat: 25.02487262639445,\n          lng: 121.5689479334554,\n        }),\n      },\n      {\n        state: {\n          search: true,\n        },\n      },\n    );\n  };\n\n  return (\n    <Stack\n      direction=\"column\"\n      spacing={2}\n      sx={{\n        position: 'absolute',\n        top: 0,\n        left: {\n          xs: hide ? 'calc(-100vw + 56px)' : 0,\n          md: hide ? '-500px' : 0,\n        },\n        width: {\n          xs: 'calc(100vw - 56px)',\n          md: '500px',\n        },\n        height: '100%',\n        p: 2,\n        transition: '500ms ease-in-out',\n        zIndex: 1,\n      }}\n    >\n      <Paper\n        elevation={3}\n        component=\"form\"\n        sx={{ display: 'flex', alignItems: 'center', p: 1 }}\n        onSubmit={handleSubmit}\n      >\n        <InputBase\n          placeholder=\"地址搜尋\"\n          sx={{ color: 'primary.main', flex: 1, px: 2 }}\n          value={query}\n          onChange={(e) => setQuery(e.target.value)}\n        />\n        <IconButton type=\"submit\" color=\"primary\">\n          <FontAwesomeIcon icon={faSearch} />\n        </IconButton>\n      </Paper>\n      <Paper\n        sx={{ bgcolor: '#fff', flexGrow: 1, overflow: 'auto' }}\n        elevation={3}\n      >\n        <NavTab />\n        <List>\n          <Outlet />\n        </List>\n      </Paper>\n      <Stack\n        direction=\"column\"\n        spacing={2}\n        sx={{\n          position: 'absolute',\n          right: { xs: hide ? '-50px' : '-40px', md: hide ? '-60px' : '-50px' },\n          top: 0,\n        }}\n      >\n        <SidebarIcon icon={faSearch} title=\"搜尋地址\" onClick={handleHide} />\n        <SidebarIcon\n          icon={faExchangeAlt}\n          title=\"收合邊欄\"\n          onClick={handleHide}\n        />\n        <SidebarIcon icon={faCrosshairs} title=\"我的位置\" />\n      </Stack>\n    </Stack>\n  );\n};\n\nexport default Sidebar;\n","export default __webpack_public_path__ + \"static/media/404.646d6db6.svg\";","import { Box, styled } from '@mui/material';\nimport PageNotFound from '../assets/image/404.svg';\n\nconst ImageContainer = styled('div')`\n  max-width: 700px;\n  margin-bottom: 3rem;\n\n  > img {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n  }\n`;\n\nconst ErrorPage = () => {\n  return (\n    <Box\n      sx={{\n        position: 'relative',\n        height: 'calc(100vh - 76px)',\n        bgcolor: 'primary.light',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        flexFlow: 'column nowrap',\n        overflow: 'hidden',\n      }}\n    >\n      <ImageContainer>\n        <img src={PageNotFound} alt=\"404\" />\n      </ImageContainer>\n    </Box>\n  );\n};\n\nexport default ErrorPage;\n","import {\n  Typography,\n  Stack,\n  ListItem,\n  Card,\n  CardActionArea,\n  CardContent,\n  Divider,\n  Box,\n} from '@mui/material';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faBicycle,\n  faParking,\n  faCheckCircle,\n} from '@fortawesome/free-solid-svg-icons';\n\nconst StationCard = () => {\n  return (\n    <>\n      <ListItem>\n        <Card sx={{ width: '100%', boxShadow: 'none' }}>\n          <CardActionArea sx={{ color: 'primary.main' }}>\n            <CardContent sx={{ py: 1 }}>\n              <Typography variant=\"h5\" color=\"primary\" sx={{ mb: 2 }}>\n                太原廣場\n              </Typography>\n              <Stack direction=\"row\" spacing={2} sx={{ mb: 2 }}>\n                <Box\n                  sx={{\n                    flexGrow: 1,\n                    backgroundColor: 'primary.light',\n                    textAlign: 'center',\n                    p: 1,\n                    borderRadius: 2,\n                  }}\n                >\n                  <Typography variant=\"body1\" color=\"primary.dark\">\n                    <FontAwesomeIcon icon={faBicycle} fixedWidth />\n                    可租借\n                  </Typography>\n                  <Typography variant=\"body1\" color=\"primary.dark\">\n                    43\n                  </Typography>\n                </Box>\n                <Box\n                  sx={{\n                    flexGrow: 1,\n                    backgroundColor: 'error.light',\n                    textAlign: 'center',\n                    p: 1,\n                    borderRadius: 2,\n                  }}\n                >\n                  <Typography variant=\"body1\" color=\"error.dark\">\n                    <FontAwesomeIcon icon={faParking} fixedWidth />\n                    可還車\n                  </Typography>\n                  <Typography variant=\"body1\" color=\"error.dark\">\n                    15\n                  </Typography>\n                </Box>\n              </Stack>\n              <Stack\n                direction=\"row\"\n                justifyContent=\"space-between\"\n                alignItems=\"center\"\n              >\n                <Typography\n                  variant=\"body1\"\n                  color=\"warning.main\"\n                  sx={{\n                    borderColor: 'warning.main',\n                    border: 1,\n                    borderRadius: 1,\n                    p: 1,\n                  }}\n                >\n                  可借可還\n                </Typography>\n                <Typography variant=\"body1\" color=\"primary.main\">\n                  <FontAwesomeIcon icon={faCheckCircle} fixedWidth />\n                  正常營運\n                </Typography>\n              </Stack>\n            </CardContent>\n          </CardActionArea>\n        </Card>\n      </ListItem>\n      <Divider variant=\"middle\" />\n    </>\n  );\n};\n\nexport default StationCard;\n","import StationCard from '../components/StationCard';\n\nconst Station = () => {\n  return (\n    <>\n      {[...Array(5)].map((ele, idx) => (\n        <StationCard key={idx} />\n      ))}\n    </>\n  );\n};\n\nexport default Station;\n","const Bike = () => {\n  return <div>自行車路線建置中</div>;\n};\n\nexport default Bike;\n","const Attraction = () => {\n  return <div>景點搜尋建置中</div>;\n};\n\nexport default Attraction;\n","const UserMark = () => {\n  return (\n    <svg\n      width=\"100%\"\n      height=\"100%\"\n      viewBox=\"0 0 80 80\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <circle opacity=\"0.2\" cx=\"37.5\" cy=\"37.5\" r=\"37.5\" fill=\"#DE994A\" />\n      <circle opacity=\"0.2\" cx=\"37.5\" cy=\"37.4999\" r=\"26.5\" fill=\"#DE994A\" />\n      <g filter=\"url(#filter0_d_38_276)\">\n        <circle cx=\"37.5\" cy=\"37.5\" r=\"13.5\" fill=\"#DE994A\" />\n        <circle cx=\"37.5\" cy=\"37.5\" r=\"16\" stroke=\"white\" strokeWidth=\"5\" />\n      </g>\n      <defs>\n        <filter\n          id=\"filter0_d_38_276\"\n          x=\"3\"\n          y=\"3.00003\"\n          width=\"77\"\n          height=\"77\"\n          filterUnits=\"userSpaceOnUse\"\n          colorInterpolationFilters=\"sRGB\"\n        >\n          <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\" />\n          <feColorMatrix\n            in=\"SourceAlpha\"\n            type=\"matrix\"\n            values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n            result=\"hardAlpha\"\n          />\n          <feOffset dx=\"4\" dy=\"4\" />\n          <feGaussianBlur stdDeviation=\"10\" />\n          <feComposite in2=\"hardAlpha\" operator=\"out\" />\n          <feColorMatrix\n            type=\"matrix\"\n            values=\"0 0 0 0 0.4625 0 0 0 0 0.4625 0 0 0 0 0.4625 0 0 0 0.3 0\"\n          />\n          <feBlend\n            mode=\"normal\"\n            in2=\"BackgroundImageFix\"\n            result=\"effect1_dropShadow_38_276\"\n          />\n          <feBlend\n            mode=\"normal\"\n            in=\"SourceGraphic\"\n            in2=\"effect1_dropShadow_38_276\"\n            result=\"shape\"\n          />\n        </filter>\n      </defs>\n    </svg>\n  );\n};\n\nexport default UserMark;\n","import { Box, Typography } from '@mui/material';\n\ntype TProps = {\n  quantity: number;\n};\n\nconst BikeMark = ({ quantity }: TProps) => {\n  return (\n    <Box sx={{ position: 'relative' }}>\n      <svg\n        width=\"100%\"\n        height=\"100%\"\n        viewBox=\"0 0 58 77\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <ellipse\n          cx=\"29\"\n          cy=\"72.5\"\n          rx=\"15\"\n          ry=\"4.5\"\n          fill={quantity > 5 ? '#A4B375' : '#F27594'}\n        />\n        <path\n          d=\"M28.8003 0C12.9207 0 0.000293201 12.9204 0.000293201 28.782C-0.104107 51.984 27.7059 71.2224 28.8003 72C28.8003 72 57.7047 51.984 57.6003 28.8C57.6003 12.9204 44.6799 0 28.8003 0ZM28.8003 43.2C20.8443 43.2 14.4003 36.756 14.4003 28.8C14.4003 20.844 20.8443 14.4 28.8003 14.4C36.7563 14.4 43.2003 20.844 43.2003 28.8C43.2003 36.756 36.7563 43.2 28.8003 43.2Z\"\n          fill={quantity > 5 ? '#738047' : '#E75578'}\n        />\n        <circle cx=\"29\" cy=\"29\" r=\"19\" fill=\"white\" />\n      </svg>\n      <Typography\n        component=\"span\"\n        sx={{\n          fontSize: '1rem',\n          color: quantity > 5 ? '#738047' : '#E75578',\n          position: 'absolute',\n          left: '50%',\n          top: '18%',\n          transform: 'translateX(-50%)',\n          fontWeight: '700',\n        }}\n      >\n        {quantity}\n      </Typography>\n    </Box>\n  );\n};\n\nexport default BikeMark;\n","import { Box, styled } from '@mui/material';\n\nconst Circle = styled('span')`\n  display: inline-flex;\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  justify-content: center;\n  align-items: center;\n  font-size: 1rem;\n  color: #fff;\n  background-color: #1e88e5;\n  font-weight: 700;\n  box-shadow: 0 0 0 3px #fff, 0 0 0 6px #1e88e5;\n`;\n\ntype TProps = {\n  count: number;\n};\n\nconst ClusterMark = ({ count }: TProps) => {\n  return (\n    <Box sx={{ position: 'relative', width: '100%', height: '100%' }}>\n      <Circle>{count}</Circle>\n    </Box>\n  );\n};\n\nexport default ClusterMark;\n","import { Stack } from '@mui/material';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faClock,\n  faBicycle,\n  faParking,\n} from '@fortawesome/free-solid-svg-icons';\nimport styled from '@emotion/styled';\n\ntype TStyle = {\n  quantity: number;\n};\n\nconst Container = styled.div`\n  width: 350px;\n  border-radius: 8px;\n  border: 2px solid #a4b375;\n  box-shadow: 0 0 20px rgba(118, 118, 118, 0.3);\n  background-color: #fff;\n  padding: 1rem 1.3rem;\n`;\n\nconst Title = styled.h4`\n  font-size: 1rem;\n  font-weight: 500;\n  color: #738047;\n  margin-bottom: 0.5rem;\n`;\n\nconst Item = styled.div<TStyle>`\n  flex-grow: 1;\n  background-color: ${({ quantity }) =>\n    quantity === 0 ? '#EEEEEE' : quantity > 10 ? '#DFE4CE' : '#F7D4DD'};\n  color: ${({ quantity }) =>\n    quantity === 0 ? '#767676' : quantity > 10 ? '#474F2C' : '#BC3253'};\n  border-radius: 4px;\n  padding: 0.5rem 0;\n  text-align: center;\n`;\n\nconst Time = styled.time`\n  flex-grow: 1;\n  color: #767676;\n  text-align: right;\n`;\n\nconst ItemText = styled.span`\n  font-size: 15px;\n  font-weight: 500;\n  font-family: 'Noto Sans TC';\n  padding-left: 0.3rem;\n`;\n\ntype TBikeData = {\n  name: string;\n  lat: number;\n  lng: number;\n  rentBike: number;\n  returnBike: number;\n  time: string;\n};\n\nconst PopCard = ({ time, name, rentBike, returnBike }: TBikeData) => {\n  return (\n    <Container>\n      <Title>{name}</Title>\n      <Stack direction=\"row\" spacing={1} alignItems=\"center\">\n        <Stack direction=\"row\" spacing={1} sx={{ flexGrow: 3 }}>\n          <Item quantity={rentBike}>\n            <FontAwesomeIcon icon={faBicycle} />\n            <ItemText>{rentBike}</ItemText>\n          </Item>\n          <Item quantity={returnBike}>\n            <FontAwesomeIcon icon={faParking} />\n            <ItemText>{returnBike}</ItemText>\n          </Item>\n        </Stack>\n        <Time>\n          <FontAwesomeIcon icon={faClock} />\n          <ItemText>{time}</ItemText>\n        </Time>\n      </Stack>\n    </Container>\n  );\n};\n\nexport default PopCard;\n","import { useEffect, useRef } from 'react';\nimport { renderToString } from 'react-dom/server';\nimport { useNavigate } from 'react-router-dom';\nimport { Box, Fab } from '@mui/material';\nimport L from 'leaflet';\nimport 'leaflet.markercluster';\nimport 'leaflet/dist/leaflet.css';\nimport 'leaflet.markercluster/dist/MarkerCluster.css';\nimport 'leaflet.markercluster/dist/MarkerCluster.Default.css';\nimport UserMark from '../components/UserMark';\nimport BikeMark from '../components/BikeMark';\nimport ClusterMark from './ClusterMark';\nimport PopCard from './PopCard';\nimport { getQueryString, getUserPosition, getBikeStation } from '../utils';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSearch } from '@fortawesome/free-solid-svg-icons';\n\n// map setting\nconst OSMUrl = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';\n\nconst attribution =\n  '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors';\n\nconst UserIcon = L.divIcon({\n  className: 'user-mark',\n  iconSize: [80, 80],\n  iconAnchor: [40, 40],\n  html: renderToString(<UserMark />),\n});\n\nconst BikeIcon = (quantity: number) => {\n  return L.divIcon({\n    className: 'bike-icon',\n    iconSize: [48, 67],\n    iconAnchor: [19, 28.5],\n    popupAnchor: [-175, -135],\n    html: renderToString(<BikeMark quantity={quantity} />),\n  });\n};\n\nconst Map = () => {\n  // router\n  // const location = useLocation();\n  const navigation = useNavigate();\n\n  // search string\n  // const lat = Number(new URLSearchParams(location.search).get('lat'));\n  // const lng = Number(new URLSearchParams(location.search).get('lng'));\n\n  // map state\n  const mapRef = useRef<L.Map>();\n  const bikeMarkRef = useRef<L.MarkerClusterGroup>();\n\n  // map first render\n  useEffect(() => {\n    // leaflet create map (current position)\n    const map = L.map('map', { zoomControl: false });\n    L.tileLayer(OSMUrl, { attribution }).addTo(map);\n    map.setZoom(15);\n    getUserPosition()\n      .then((res) => {\n        map.setView([res.coords.latitude, res.coords.longitude], 15);\n        L.marker([res.coords.latitude, res.coords.longitude], {\n          icon: UserIcon,\n        }).addTo(map);\n        // Bike station marker\n        const markers = L.markerClusterGroup({\n          iconCreateFunction: (cluster) => {\n            return L.divIcon({\n              className: 'cluster-icon',\n              iconSize: [30, 30],\n              iconAnchor: [15, 15],\n              html: renderToString(\n                <ClusterMark count={cluster.getChildCount()} />,\n              ),\n            });\n          },\n        });\n        getBikeStation(res.coords.latitude, res.coords.longitude).then(\n          (res) => {\n            res.forEach((ele) => {\n              markers.addLayer(\n                L.marker([ele.lat, ele.lng], {\n                  icon: BikeIcon(ele.rentBike),\n                }).bindPopup(renderToString(<PopCard {...ele} />), {\n                  className: 'cus-popup',\n                }),\n              );\n            });\n          },\n        );\n        bikeMarkRef.current = markers;\n        map.addLayer(markers);\n      })\n      .catch(() => {\n        // console.log('no open gps');\n      });\n\n    // get map center position\n    const getMapCenter = () => {\n      return setTimeout(() => {\n        navigation({\n          search: getQueryString({\n            lat: map.getCenter().lat,\n            lng: map.getCenter().lng,\n          }),\n        });\n      }, 500);\n    };\n\n    // control map event\n    let timer: NodeJS.Timeout;\n    map.on('zoom', () => {\n      clearTimeout(timer);\n      timer = getMapCenter();\n    });\n    map.on('drag', () => {\n      clearTimeout(timer);\n      timer = getMapCenter();\n    });\n\n    mapRef.current = map;\n  }, [navigation]);\n\n  return (\n    <>\n      <Box\n        id=\"map\"\n        sx={{\n          position: 'relative',\n          width: {\n            xs: '100%',\n            lg: '120%',\n          },\n          height: '100%',\n          left: 0,\n          top: 0,\n          zIndex: 0,\n        }}\n      ></Box>\n      <Box>\n        <Fab>\n          <FontAwesomeIcon icon={faSearch} />\n          搜尋此區域\n        </Fab>\n      </Box>\n    </>\n  );\n};\n\nexport default Map;\n","export const getUserPosition = () => {\n  return new Promise<GeolocationPosition>((res, rej) => {\n    navigator.geolocation.getCurrentPosition(res, rej);\n  });\n};\n","import { styled } from '@mui/material';\nimport { Routes, Route } from 'react-router-dom';\nimport Header from './components/Header';\nimport SideBar from './views/Sidebar';\nimport ErrorPage from './views/ErrorPage';\nimport Station from './views/Station';\nimport Bike from './views/Bike';\nimport Attraction from './views/Attractions';\nimport Map from './components/Map';\n\nconst Page = styled('section')`\n  position: relative;\n  width: 100vw;\n  height: calc(100vh - 76px);\n  overflow: hidden;\n`;\n\nconst App = () => {\n  return (\n    <>\n      <Header />\n      <Page>\n        <Routes>\n          <Route path=\"/\" element={<SideBar />}>\n            <Route path=\"/\" element={<Station />} />\n            <Route path=\"station\" element={<Station />} />\n            <Route path=\"bike\" element={<Bike />} />\n            <Route path=\"attraction\" element={<Attraction />} />\n          </Route>\n          <Route path=\"*\" element={<ErrorPage />} />\n        </Routes>\n        <Map />\n      </Page>\n    </>\n  );\n};\n\nexport default App;\n","import { css } from '@emotion/react';\n\nconst global = css`\n  html,\n  body,\n  div,\n  span,\n  applet,\n  object,\n  iframe,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  p,\n  blockquote,\n  pre,\n  a,\n  abbr,\n  acronym,\n  address,\n  big,\n  cite,\n  code,\n  del,\n  dfn,\n  em,\n  img,\n  ins,\n  kbd,\n  q,\n  s,\n  samp,\n  small,\n  strike,\n  strong,\n  sub,\n  sup,\n  tt,\n  var,\n  b,\n  u,\n  i,\n  center,\n  dl,\n  dt,\n  dd,\n  ol,\n  ul,\n  li,\n  fieldset,\n  form,\n  label,\n  legend,\n  table,\n  caption,\n  tbody,\n  tfoot,\n  thead,\n  tr,\n  th,\n  td,\n  article,\n  aside,\n  canvas,\n  details,\n  embed,\n  figure,\n  figcaption,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  output,\n  ruby,\n  section,\n  summary,\n  time,\n  mark,\n  audio,\n  video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n  }\n  article,\n  aside,\n  details,\n  figcaption,\n  figure,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  section {\n    display: block;\n  }\n  body {\n    line-height: 1;\n  }\n  ol,\n  ul {\n    list-style: none;\n  }\n  blockquote,\n  q {\n    quotes: none;\n  }\n  blockquote:before,\n  blockquote:after,\n  q:before,\n  q:after {\n    content: '';\n    content: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n\n  html,\n  body {\n    font-family: 'Noto Sans TC';\n  }\n\n  *,\n  *::before,\n  *::after {\n    box-sizing: border-box;\n  }\n`;\n\nexport default global;\n","import { createTheme } from '@mui/material/styles';\n\nconst primary = {\n  main: '#738047',\n  light: '#DFE4CE',\n  dark: '#474F2C',\n};\n\nconst theme = createTheme({\n  palette: {\n    primary,\n    warning: {\n      main: '#DE994A',\n      light: '#FAF0E5',\n      dark: '#C67A24',\n    },\n    error: {\n      main: '#E75578',\n      light: '#F7D4DD',\n      dark: '#BC3253',\n    },\n    secondary: {\n      main: '#9A9A9A',\n      dark: '#767676',\n      light: '#EEEEEE',\n    },\n  },\n  typography: {\n    fontFamily: 'Noto Sans TC',\n    h1: {\n      color: primary.dark,\n      fontSize: '2.448rem',\n      fontWeight: '700',\n    },\n    h2: {\n      color: primary.dark,\n      fontSize: '2.074rem',\n      fontWeight: '700',\n    },\n    h3: {\n      color: primary.dark,\n      fontSize: '1.728rem',\n      fontWeight: '700',\n    },\n    h4: {\n      color: primary.dark,\n      fontSize: '1.44rem',\n      fontWeight: '700',\n    },\n    h5: {\n      color: primary.dark,\n      fontSize: '1.2rem',\n      fontWeight: '700',\n    },\n    body1: {\n      fontSize: '1.1rem',\n      fontWeight: '500',\n    },\n    button: {\n      fontSize: '0.833rem',\n    },\n    caption: {\n      fontSize: '0.694rem',\n      fontWeight: '400',\n    },\n  },\n  components: {\n    MuiButton: {\n      styleOverrides: {\n        // root: {\n        //   color: primary.main,\n        //   boxShadow: 'none',\n        // },\n        // contained: {\n        //   backgroundColor: '#ffffff',\n        //   border: '1px solid #A4B375',\n        //   borderRadius: '8px',\n        //   '&:hover': {\n        //     boxShadow: 'none',\n        //     backgroundColor: primary.light,\n        //   },\n        // },\n      },\n    },\n  },\n});\n\nexport default theme;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { Global } from '@emotion/react';\nimport { ThemeProvider as EPropsvider } from '@emotion/react';\nimport { ThemeProvider } from '@mui/material/styles';\nimport global from './style/global';\nimport theme from './style/theme';\nimport { HashRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <EPropsvider theme={theme}>\n        <ThemeProvider theme={theme}>\n          <Global styles={global} />\n          <App />\n        </ThemeProvider>\n      </EPropsvider>\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}